---
import { ViewTransitions } from "astro:transitions";
import "../../styles/globals.css";
import MoreTools from "../info/moretools.astro";
import Footer from "./Footer.astro";
import FormatHeading from "./FormatHeading.astro";
import Head from "./Head.astro";
import Header from "./header.astro";

type Props = {
  title: string;
  description: string;
  language?: string;
  image?: string;
  minify?: boolean;
};

const { title, description, image, language, minify } = Astro.props;
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <Head
      title={`${title} | HAPPYFMT, the best online formatter`}
      description={description}
      image={image}
    />
    <ViewTransitions />
  </head>
  <body>
    <!-- Skip to main content link for keyboard navigation -->
    <a
      href="#main-content"
      class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 bg-primary text-primary-foreground px-4 py-2 rounded-md z-[100] focus:outline-none focus:ring-2 focus:ring-ring"
    >
      Skip to main content
    </a>
    <Header />
    <main id="main-content" role="main">
      {language && (
        <FormatHeading language={language} minify={minify ?? false} />
      )}
      <slot />
    </main>
    <MoreTools />
    <Footer />
  </body>
</html>
